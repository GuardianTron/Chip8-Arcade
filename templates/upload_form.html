{% extends 'base.html' %}
{% from '_renderfield.html' import renderfield %}
{% block title %}
     Upload Game
{% endblock %}

{% macro render_action() %}
    {% if id is defined %}
        {{ url_for('update_game',id=id) }}
    {% else %}
        {{ url_for('upload_new_game') }}
    {% endif %}
{% endmacro %}

{% block main %}
{% if error_message %}
    <h1>{{ error_message }}</h1>
{% endif %}
    <form method="POST" action="{{ render_action() }}" enctype="multipart/form-data">
        {{ form.csrf_token }}
        <ul>
            <li>{{ renderfield(form.title) }}</li>
            <li>{{ renderfield(form.description) }}</li>
            <li>{{ renderfield(form.game_rom) }}</li>
        </ul>
        <button>Submit</button>
    </form>
{% endblock %}
