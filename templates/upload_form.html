{% extends 'base.html' %}
{% from '_renderfield.html' import renderfield %}
{% block title %}
     Upload Game
{% endblock %}

{% macro render_action() %}
    {% if id is defined %}
        {{ url_for('update_game',id=id) }}
    {% else %}
        {{ url_for('upload_new_game') }}
    {% endif %}
{% endmacro %}

{% block main %}
    <form method="POST" action="{{ render_action() }}" enctype="multipart/form-data">
        {{ form.csrf_token }}
        <ul>
            <li>{{ renderfield(form.title) }}</li>
            <li>{{ renderfield(form.description) }}</li>
            <li>{{ renderfield(form.game_rom) }}</li>
        </ul>
        <fieldset>
            <legend>Configure Key Codes</legend>
            <ul>
                {% for field in form.key_codes %}
                    {{ field.label }}{{field}}
                {% endfor %}
            </ul>
        </fieldset>
        <button>Submit</button>
    </form>
{% endblock %}
